<!DOCTYPE html>
<html
xmlns:th="http//www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layouts/main}"
>
    <!-- index.html 고유 CSS 추가 -->
    <th:block layout:fragment="css">
        <link rel="stylesheet" href="/assets/css/facility.css">
        <link rel="stylesheet" href="/assets/css/place.css">
    </th:block>
    <!-- index.html 고유 스크립트 추가 -->
    <th:block layout:fragment="script">
        
    </th:block>

    <div layout:fragment="content" class="hospiceContent">
        <!-- Full Screen Search Start -->
        <div class="container-fluid bg-primary py-5 bg-header" style="margin-bottom: 90px;">
            <div class="row py-5">
                <div class="col-12 pt-lg-5 mt-lg-5 text-center">
                    <h1 class="display-4 text-white animated zoomIn">施設探し</h1>
                    <h5 class="text-white">全国の医修館</h5>
                </div>
            </div>
        </div>
        <!-- Full Screen Search End -->


        <!-- placeHome Start -->
        <div class="container wow fadeInUp" data-wow-delay="0.1s">
            
            <!-- map-contents start -->
            <div class="col-lg-12 row wow slideInUp" data-wow-delay="0.3s">
                <!-- google-map start -->
                <div class="col-lg-8">
                    <div id="mapBox" class="cols-2" style="min-height: 350px; border:0;">
                        <script
                        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDM3EkIRxquQ5P4oVMeucj_UlVJCTO3-uA&callback=initMap&v=weekly"
                        defer>
                        </script>
                    </div>
                    <div>
                        <button class="col-lg-1">
                            <i class="fa-solid fa-chevrons-left" style="--fa-primary-opacity:0.7;"></i>
                        </button>
                    </div>
                </div>
                <!-- google-map end -->

                <!-- map-info start -->
                <div class="col-lg-4">
                    <div id="mapInfo" class="p-4 cols-2" style="min-height: 350px; border:0; background-color: var(--lt-gray);">
                        <script src="https://kit.fontawesome.com/6d6d1af9bb.js" crossorigin="anonymous"></script>
                        <div class="row mb-3" style="cursor: pointer;" onclick="location.href='https://www.google.co.jp/maps/dir//%E3%80%92101-0021+Tokyo,+Chiyoda+City,+Sotokanda,+5-ch%C5%8Dme%E2%88%922%E2%88%9211+%EC%84%B8%EC%9D%B4%ED%82%A4+%EC%A0%9C2%EB%B9%8C%EB%94%A9+2%E9%9A%8E/@35.7040555,139.7702527,17z/data=!4m8!4m7!1m0!1m5!1m1!1s0x60188c1e2f6307e3:0x27ad411d8c2a60fe!2m2!1d139.7724414!2d35.7040512?hl=ko'" id="info1">
                            <div class="col-lg-3">
                                <i class="fa-solid fa-location-check" style="--fa-primary-color:red;"></i>
                            </div>
                            <div class="col-lg-9">
                                <h4>西芝</h4>
                                <p>東京都千代田区外神田五丁目2番11号 セイキ第2ビル2階</p>
                            </div>
                        </div>    
                        <div class="row mb-3" style="cursor: pointer;" onclick="location.href='https://www.google.co.jp/maps/dir//383+Kamihiroya,+Tsurugashima,+Saitama+350-2203/@35.9391854,139.4178015,17z/data=!4m8!4m7!1m0!1m5!1m1!1s0x6018d710bd4737b5:0x85124df463eb5d0b!2m2!1d139.4199902!2d35.9391811?hl=ko'" id="info2" >
                            <div class="col-lg-3">
                                <i class="fa-solid fa-location-check" style="--fa-primary-color:red;"></i>
                            </div>
                            <div class="col-lg-9">
                                <h4>埼玉県｜医修館</h4>
                                <p>埼玉県鶴ヶ島市上広谷383</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- map-info end -->
            </div>
            <!-- map-contents End -->

            <!-- placeHome list Start -->
            <div class="col-lg-12 py-5">
                <div class="row g-5">
                    <!-- placeSaitama -->
                    <div class="col-lg-4 col-md-6 wow slideInUp" data-wow-delay="0.4s" onclick="location.href='/place/placeSaitama'" style="cursor: pointer;">
                        <div class="blog-item bg-light rounded overflow-hidden">
                            <div class="blog-img position-relative overflow-hidden">
                                <img class="img-fluid" src="/assets/img/blog-1.jpg" alt="">
                            </div>
                            <div class="p-4">
                                <div class="d-flex mb-3">
                                    <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                    <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                                </div>
                                <h4 class="mb-3">埼玉県｜医修館</h4>
                                <p>埼玉県鶴ヶ島市上広谷383</p>
                            </div>
                        </div>
                    </div>
                    <!-- placeTokyo -->
                    <div class="col-lg-4 col-md-6 wow slideInUp" data-wow-delay="0.4s" onclick="location.href='/place/placeTokyo'" style="cursor: pointer;">
                        <div class="blog-item bg-light rounded overflow-hidden">
                            <div class="blog-img position-relative overflow-hidden">
                                <img class="img-fluid" src="/assets/img/blog-2.jpg" alt="">
                            </div>
                            <div class="p-4">
                                <div class="d-flex mb-3">
                                    <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                    <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                                </div>
                                <h4 class="mb-3">東京｜医修館</h4>
                                <p>address</p>
                            </div>
                        </div>
                    </div>
                    <!-- placeYokohama -->
                    <div class="col-lg-4 col-md-6 wow slideInUp" data-wow-delay="0.4s">
                        <a href="">
                            <div class="blog-item bg-light rounded overflow-hidden">
                                <div class="blog-img position-relative overflow-hidden">
                                    <img class="img-fluid" src="/assets/img/blog-1.jpg" alt="">
                                </div>
                                <div class="p-4">
                                    <div class="d-flex mb-3">
                                        <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                        <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                                    </div>
                                    <h4 class="mb-3">横浜｜医修館</h4>
                                    <p>address</p>
                                </div>
                            </div>
                        </a>
                    </div>
                    <!-- plan -->
                    <div class="col-lg-4 col-md-6 wow slideInUp" data-wow-delay="0.4s">
                        <div class="blog-item bg-light rounded overflow-hidden">
                            <div class="blog-img position-relative overflow-hidden">
                                <img class="img-fluid" src="/assets/img/blog-3.jpg" alt="">
                                <a class="position-absolute top-0 start-0 bg-primary text-white rounded-end mt-5 py-2 px-4" href="">建設中</a>
                            </div>
                            <div class="p-4">
                                <div class="d-flex mb-3">
                                    <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                    <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                                </div>
                                <h4 class="mb-3">建設中</h4>
                                <p>未定</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 wow slideInUp" data-wow-delay="0.4s">
                        <div class="blog-item bg-light rounded overflow-hidden">
                            <div class="blog-img position-relative overflow-hidden">
                                <img class="img-fluid" src="/assets/img/blog-3.jpg" alt="">
                                <a class="position-absolute top-0 start-0 bg-primary text-white rounded-end mt-5 py-2 px-4" href="">建設中</a>
                            </div>
                            <div class="p-4">
                                <div class="d-flex mb-3">
                                    <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                    <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                                </div>
                                <h4 class="mb-3">建設中</h4>
                                <p>未定</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- placeHome list End -->

        </div>
        <!-- placeHome End -->
    </div>
</html>


<script>
    // google-map
    // Initialize and add the map
    function initMap() {
        // The map, centered at myLatLng
        const map = new google.maps.Map(document.getElementById("mapBox"), {
            zoom: 8,
            center: { lat: 35.70410420663528, lng: 139.77242657030774 },
        });
        
        setMarKers(map);
    }
    
    //Place List
    const isyuukans = [
        ["Nishiba", 35.70410420663528, 139.77242657030774, 1],
        ["埼玉｜医修館", 35.93933743697428, 139.4200116547968, 2 ],
        ["横浜", 35.45806460812385, 139.5777527942403]
    ];

    //multiple markers& open direction
    function setMarKers(map){
        // const image = {
        //     url: "https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png",
        //     // This marker is 20 pixels wide by 32 pixels high.
        //     size: new google.maps.Size(20, 32),
        //     // The origin for this image is (0, 0).
        //     origin: new google.maps.Point(0, 0),
        //     // The anchor for this image is the base of the flagpole at (0, 32).
        //     anchor: new google.maps.Point(0, 32),
        // };
        // const shape = {
        //     coords: [1, 1, 1, 20, 18, 20, 18, 1],
        //     type: "poly",
        // };

        for (let i = 0; i < isyuukans.length; i++) {
            const isyuukan = isyuukans[i];

            var marker = new google.maps.Marker({
                position: { lat: isyuukan[1], lng: isyuukan[2] },map,
                // icon: image,
                // shape: shape,
                title: isyuukan[0],
                // label: {
                //     text: isyuukan[0],
                //     color: "#000000",
                //     fontweight: "bold",
                // },
                zIndex: isyuukan[3],
                animation: google.maps.Animation.BOUNCE,
                
            });
            
            google.maps.event.addListener(marker, 'click',(function(marker,i){
                return function(){
                    // 마커 click event
                    // focus change
                    var focusChange = new google.maps.Map(document.getElementById("mapBox"), {
                        zoom: 15,
                        center: { lat: isyuukan[1], lng: isyuukan[2] },
                    });

                    // new focus marker
                    var markerFocus = new google.maps.Marker({
                        position: { lat: isyuukan[1], lng: isyuukan[2] },focusChange,
                        title: isyuukan[0],
                        zIndex: isyuukan[3],
                        animation: google.maps.Animation.BOUNCE,
                    });

                    markerFocus.setMap(focusChange);
                };    
            })(marker, i));
        }
    }

    window.initMap = initMap;

</script>

<script type="text/javascript">
    
    $(function() {
        $("#inquiryA").click(function(){
            location.href = '/#test';
            mainInquiry();
        });
        
    });

    $('.thumb-nav').slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        infinite: true,
        centerPadding: '0px',
        asNavFor: '.main-img-slider',
        dots: false,
        centerMode: false,
        draggable: true,
        speed:200,
        focusOnSelect: true,
        prevArrow: '<div class="slick-prev"><i class="i-prev"></i><span class="sr-only sr-only-focusable">Previous</span></div>',
        nextArrow: '<div class="slick-next"><i class="i-next"></i><span class="sr-only sr-only-focusable">Next</span></div>'  
    });

    function officeTel(e) {
        var tel = e.value;
        $(".finderTel").text(tel);
    }

    function mainInquiry() {
        var offset = $(".inquiry").offset(); //해당 위치 반환
        $("html, body").animate({scrollTop: offset.top},500); 
    }

    /*--------------*/

    // Initialise Carousel
    const mainCarousel = new Carousel(document.querySelector("#mainCarousel"), {
        Dots: false,
    });

    // Thumbnails
    const thumbCarousel = new Carousel(document.querySelector("#thumbCarousel"), {
        Sync: {
            target: mainCarousel,
            friction: 0,
        },
        Dots: false,
        Navigation: false,
        center: true,
        slidesPerPage: 1,
        infinite: false,
    });

    // Customize Fancybox
    Fancybox.bind('[data-fancybox="gallery"]', {
        Carousel: {
            on: {
            change: (that) => {
                mainCarousel.slideTo(mainCarousel.findPageForSlide(that.page), {
                friction: 0,
                });
            },
            },
        },
    });

</script>